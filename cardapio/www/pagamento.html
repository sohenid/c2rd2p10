<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=yes, initial-scale=1.5, maximum-scale=1.5, minimum-scale=1.5, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <title>App</title>
        <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
        <link rel="stylesheet" type="text/css" href="css/base.css" />
    </head>
    <body>

        <script src="js/ui-menu.js"></script>

        <div class="clearfix" style="padding: 10px 20px; border-bottom: 1px solid #eee">
            <button class="btn btn-default pull-right closed" id="show-hide-menu"><span class="glyphicon glyphicon-align-justify"></span></button>
        </div>

        <div style="padding: 10px 20px; border-bottom: 1px solid #eee;">
            <button class="btn btn-danger btn-block" onclick="callWaiter()"><span class="glyphicon glyphicon-bell"></span> Chamar Garçon</button>
        </div>

        <div class="main">
            <div id="output" class="clearfix">

                <!-- PASSO 1 -->
                <div class="passo1" style="margin-top: 20px; margin-bottom: 20px;">
                    <div style="margin-bottom: 10px">
                        Qual a forma de pagamento?
                    </div>
                    <select id="pagamento" class="form-control">
                        <option value="">Vou pagar com</option>
                        <option value="1">Cartão de Crédito</option>
                        <option value="2">Cartão de Dédito</option>
                        <option value="3">Dinheiro</option>
                    </select>
                </div>

                <!-- PASSO 2 -->
                <div class="passo2" style="margin-bottom: 20px; display: none">
                    <div style="margin-bottom: 10px">
                        Precisa de troco?
                    </div>
                    <select id="troco" class="form-control">
                        <option value=""></option>
                        <option value="N">Não</option>
                        <option value="S">Sim</option>
                    </select>
                </div>

                <!-- PASSO 3 -->
                <div class="passo3" style="margin-bottom: 20px; display: none">
                    <div style="margin-bottom: 10px">
                        Troco pra quanto?
                    </div>
                    <script>
                        document.write('<select id="troco-valor" class="form-control">');
                        document.write('<option value="">Troco para</option>');
                        for (i = 1; i <= 1000; i++) {
                            document.write('<option value="' + i + '">R$ ' + i + '.00</option>');
                        }
                        document.write('</select>');
                    </script>
                </div>

                <!-- PASSO 4 -->
                <div class="passo4" style="display: none">
                    <a href="#" class="btn btn-success btn-block">Confirmar</a>
                </div>

            </div>
        </div>

        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/jquery.min.js"></script>
        <script type="text/javascript" src="js/base.js"></script>
        <script type="text/javascript" src="js/bootstrap.min.js"></script>

        <script type="text/javascript" src="js/database.js"></script>
        <script type="text/javascript" src="js/functions.js"></script>
        <script type="text/javascript">

                        $('#output').css('height', vWindowHeight - 110);

                        // passo 1
                        $('#pagamento').change(function() {
                            if ($('#pagamento').val() == '') {
                                $('.passo2').css('display', 'none');
                                $('.passo3').css('display', 'none');
                                $('.passo4').css('display', 'none');
                            }
                            else if ($('#pagamento').val() == '3') {
                                $('.passo2').css('display', 'block');
                                $('.passo3').css('display', 'none');
                                $('.passo4').css('display', 'none');
                            } else {
                                $('.passo2').css('display', 'none');
                                $('.passo3').css('display', 'none');
                                $('.passo4').css('display', 'block');
                            }
                        });

                        // passo 2
                        $('#troco').change(function() {
                            if ($('#troco').val() == '') {
                                $('.passo3').css('display', 'none');
                                $('.passo4').css('display', 'none');
                            }
                            else if ($('#troco').val() == 'S') {
                                $('.passo3').css('display', 'block');
                                $('.passo4').css('display', 'none');
                            } else {
                                $('.passo3').css('display', 'none');
                                $('.passo4').css('display', 'block');
                            }
                        });

                        // passo 3
                        $('#troco-valor').change(function() {
                            if ($('#troco-valor').val() != '') {
                                $('.passo4').css('display', 'block');
                            } else {
                                $('.passo4').css('display', 'none');
                            }
                        });

                        /*
                         Quando desabilitar e habilitar novamente algum item que já havia sido selecionado
                         resetar os valores dos itens.
                         */

        </script>

    </body>
</html>
